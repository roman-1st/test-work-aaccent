{"ast":null,"code":"import { ProductsActionTypes } from './../../types/products';\nimport { BrandsActionsTypes } from './../../types/brand';\nimport axios from 'axios';\nexport const fetchBrands = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(\"http://localhost:3000/assets/brands.json\");\n      dispatch({\n        type: BrandsActionsTypes.ADD_BRANDS,\n        payload: response.data\n      });\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\nexport const fetchPoducts = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(\"http://localhost:3000/assets/products.json\");\n      dispatch({\n        type: ProductsActionTypes.GET_ALL_PRODUCT,\n        payload: response.data\n      });\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\nexport const fetchOrder = orderItem => {\n  return async dispatch => {\n    try {\n      const jsonOrder = JSON.stringify(orderItem);\n      const response = await axios.post(\"https://app.aaccent.su/js/confirm.php \", jsonOrder\n      // {data: orderItem,},\n      // { withCredentials: true },)\n      ).then(response => {\n        console.log(response.data);\n      });\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n};\n\n// export const fetchOrder = (data: OrderItem[]) => {\n//     return async (dispatch: Dispatch<OrderActions>) => {\n//       try {\n//         const response = await axios.post(\n//           \"/api/js/confirm.php\", // измените URL для отправки запроса на прокси-сервер\n//           data,\n//           { withCredentials: false } // измените параметр withCredentials на false\n//         );\n//         console.log(response.data);\n//       } catch (e: any) {\n//         console.log(e.message);\n//       }\n//     };\n//   };\n\n// https://app.aaccent.su/js/confirm.php","map":{"version":3,"names":["ProductsActionTypes","BrandsActionsTypes","axios","fetchBrands","dispatch","response","get","type","ADD_BRANDS","payload","data","e","console","log","message","fetchPoducts","GET_ALL_PRODUCT","fetchOrder","orderItem","jsonOrder","JSON","stringify","post","then"],"sources":["/Users/romansehovcev/Documents/TestsProjects/test-project-accent/src/store/action-creators/async-actions.ts"],"sourcesContent":["import { OrderActions, OrderState, OrderItem } from './../../types/order';\nimport { ProductsActions, ProductsActionTypes } from './../../types/products';\nimport { BrandsActions, BrandsActionsTypes } from './../../types/brand';\n\nimport { Dispatch } from \"redux\"\nimport axios from 'axios';\n\nexport const fetchBrands = () => {\n    return async (dispatch: Dispatch<BrandsActions>) => {\n        try {\n            const response = await axios.get(\"http://localhost:3000/assets/brands.json\")\n            dispatch({type: BrandsActionsTypes.ADD_BRANDS, payload: response.data})\n        } catch (e: any) {\n            console.log(e.message);\n        }\n    }\n}\n\nexport const fetchPoducts = () => {\n    return async (dispatch: Dispatch<ProductsActions>) => {\n        try {\n            const response = await axios.get(\"http://localhost:3000/assets/products.json\")\n            dispatch({type: ProductsActionTypes.GET_ALL_PRODUCT, payload: response.data})\n        } catch (e: any) {\n            console.log(e.message);\n        }\n    }\n}\n\nexport const fetchOrder = (orderItem: OrderItem[]) => {\n    return async (dispatch: Dispatch<OrderActions>) => {\n        try {\n            const jsonOrder = JSON.stringify(orderItem)\n\n            const response = await axios.post(\n                \"https://app.aaccent.su/js/confirm.php \", jsonOrder\n                // {data: orderItem,},\n                // { withCredentials: true },)\n            )\n            .then(response => {\n                console.log(response.data);\n              })\n\n        } catch (e:any) {\n            console.log(e.message);\n        }\n    }\n}\n\n// export const fetchOrder = (data: OrderItem[]) => {\n//     return async (dispatch: Dispatch<OrderActions>) => {\n//       try {\n//         const response = await axios.post(\n//           \"/api/js/confirm.php\", // измените URL для отправки запроса на прокси-сервер\n//           data,\n//           { withCredentials: false } // измените параметр withCredentials на false\n//         );\n//         console.log(response.data);\n//       } catch (e: any) {\n//         console.log(e.message);\n//       }\n//     };\n//   };\n\n\n// https://app.aaccent.su/js/confirm.php "],"mappings":"AACA,SAA0BA,mBAAmB,QAAQ,wBAAwB;AAC7E,SAAwBC,kBAAkB,QAAQ,qBAAqB;AAGvE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC7B,OAAO,MAAOC,QAAiC,IAAK;IAChD,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,0CAA0C,CAAC;MAC5EF,QAAQ,CAAC;QAACG,IAAI,EAAEN,kBAAkB,CAACO,UAAU;QAAEC,OAAO,EAAEJ,QAAQ,CAACK;MAAI,CAAC,CAAC;IAC3E,CAAC,CAAC,OAAOC,CAAM,EAAE;MACbC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,OAAO,CAAC;IAC1B;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAC9B,OAAO,MAAOX,QAAmC,IAAK;IAClD,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,4CAA4C,CAAC;MAC9EF,QAAQ,CAAC;QAACG,IAAI,EAAEP,mBAAmB,CAACgB,eAAe;QAAEP,OAAO,EAAEJ,QAAQ,CAACK;MAAI,CAAC,CAAC;IACjF,CAAC,CAAC,OAAOC,CAAM,EAAE;MACbC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,OAAO,CAAC;IAC1B;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMG,UAAU,GAAIC,SAAsB,IAAK;EAClD,OAAO,MAAOd,QAAgC,IAAK;IAC/C,IAAI;MACA,MAAMe,SAAS,GAAGC,IAAI,CAACC,SAAS,CAACH,SAAS,CAAC;MAE3C,MAAMb,QAAQ,GAAG,MAAMH,KAAK,CAACoB,IAAI,CAC7B,wCAAwC,EAAEH;MAC1C;MACA;MAAA,CACH,CACAI,IAAI,CAAClB,QAAQ,IAAI;QACdO,OAAO,CAACC,GAAG,CAACR,QAAQ,CAACK,IAAI,CAAC;MAC5B,CAAC,CAAC;IAER,CAAC,CAAC,OAAOC,CAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,OAAO,CAAC;IAC1B;EACJ,CAAC;AACL,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}