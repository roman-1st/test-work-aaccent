{"ast":null,"code":"import { OrderActionTypes } from './../../types/order';\nconst initialState = {\n  orderItem: [],\n  orderPrice: 0,\n  orderCurrency: \"USD\"\n};\nexport const orderReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case OrderActionTypes.ADD_TO_ORDER:\n      const itemPrice = action.payload;\n      return {\n        ...state,\n        orderItem: [...state.orderItem, action.payload],\n        orderPrice: state.orderPrice + itemPrice.regular_price.value\n      };\n    case 'ADD_TO_ORDER':\n      let itemExists = false;\n      const updatedItem = state.orderItem.map(item => {\n        if (item.id === action.payload.id) {\n          itemExists = true;\n          return {\n            ...item,\n            quantity: item.quantity + 1\n          };\n        } else {\n          return item;\n        }\n      });\n      if (itemExists) {\n        return {\n          ...state,\n          orderItem: updatedItem\n        };\n      } else {\n        return {\n          ...state,\n          orderItem: [...state.orderItem, {\n            ...action.payload,\n            quantity: 1\n          }]\n        };\n      }\n    case 'REMOVE_FROM_ORDER':\n      return {\n        ...state,\n        orderItem: state.orderItem.filter(item => item.id !== action.payload.id)\n      };\n    case 'DECREASE_ORDER_ITEM':\n      const updatedOrderItem = state.orderItem.map(item => {\n        if (item.id === action.payload.id) {\n          return {\n            ...item,\n            quantity: item.quantity - 1\n          };\n        } else {\n          return item;\n        }\n      }).filter(item => item.quantity > 0);\n      return {\n        ...state,\n        orderItem: updatedOrderItem\n      };\n    case 'INCREASE_ORDER_ITEM':\n      const increasedOrderItem = state.orderItem.map(item => {\n        if (item.id === action.payload.id) {\n          return {\n            ...item,\n            quantity: item.quantity + 1\n          };\n        } else {\n          return item;\n        }\n      });\n      return {\n        ...state,\n        orderItem: increasedOrderItem\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};","map":{"version":3,"names":["OrderActionTypes","initialState","orderItem","orderPrice","orderCurrency","orderReducer","state","arguments","length","undefined","action","type","ADD_TO_ORDER","itemPrice","payload","regular_price","value","itemExists","updatedItem","map","item","id","quantity","filter","updatedOrderItem","increasedOrderItem"],"sources":["/Users/romansehovcev/Documents/TestsProjects/test-project-accent/src/store/reducer/orderReducer.ts"],"sourcesContent":["import { OrderState, OrderActionTypes, OrderActions } from './../../types/order';\n\n\nconst initialState: OrderState = {\n    orderItem: [],\n    orderPrice: 0,\n    orderCurrency: \"USD\",\n}\n\nexport const orderReducer = (state = initialState, action: OrderActions): OrderState => {\n    switch(action.type) {\n        case OrderActionTypes.ADD_TO_ORDER: \n        const itemPrice:any = action.payload\n            return {\n                ...state,\n                orderItem: [...state.orderItem, action.payload],\n                orderPrice: state.orderPrice + itemPrice.regular_price.value\n            }\n            case 'ADD_TO_ORDER':\n                let itemExists = false;\n                const updatedItem = state.orderItem.map((item) => {\n                  if (item.id === action.payload.id) {\n                    itemExists = true;\n                    return { ...item, quantity: item.quantity + 1 };\n                  } else {\n                    return item;\n                  }\n                });\n                if (itemExists) {\n                  return { ...state, orderItem: updatedItem };\n                } else {\n                  return { ...state, orderItem: [...state.orderItem, { ...action.payload, quantity: 1 }] };\n                }\n              case 'REMOVE_FROM_ORDER':\n                return { ...state, orderItem: state.orderItem.filter((item) => item.id !== action.payload.id) };\n              case 'DECREASE_ORDER_ITEM':\n                const updatedOrderItem = state.orderItem.map((item) => {\n                  if (item.id === action.payload.id) {\n                    return { ...item, quantity: item.quantity - 1 };\n                  } else {\n                    return item;\n                  }\n                }).filter((item) => item.quantity > 0);\n                return { ...state, orderItem: updatedOrderItem };\n              case 'INCREASE_ORDER_ITEM':\n                const increasedOrderItem = state.orderItem.map((item) => {\n                  if (item.id === action.payload.id) {\n                    return { ...item, quantity: item.quantity + 1 };\n                  } else {\n                    return item;\n                  }\n                });\n                return { ...state, orderItem: increasedOrderItem };\n\n        default: \n        return {\n            ...state\n        }\n    }\n}"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAsB,qBAAqB;AAGhF,MAAMC,YAAwB,GAAG;EAC7BC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAE,CAAC;EACbC,aAAa,EAAE;AACnB,CAAC;AAED,OAAO,MAAMC,YAAY,GAAG,SAAAA,CAAA,EAA4D;EAAA,IAA3DC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,YAAY;EAAA,IAAES,MAAoB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACnE,QAAOC,MAAM,CAACC,IAAI;IACd,KAAKX,gBAAgB,CAACY,YAAY;MAClC,MAAMC,SAAa,GAAGH,MAAM,CAACI,OAAO;MAChC,OAAO;QACH,GAAGR,KAAK;QACRJ,SAAS,EAAE,CAAC,GAAGI,KAAK,CAACJ,SAAS,EAAEQ,MAAM,CAACI,OAAO,CAAC;QAC/CX,UAAU,EAAEG,KAAK,CAACH,UAAU,GAAGU,SAAS,CAACE,aAAa,CAACC;MAC3D,CAAC;IACD,KAAK,cAAc;MACf,IAAIC,UAAU,GAAG,KAAK;MACtB,MAAMC,WAAW,GAAGZ,KAAK,CAACJ,SAAS,CAACiB,GAAG,CAAEC,IAAI,IAAK;QAChD,IAAIA,IAAI,CAACC,EAAE,KAAKX,MAAM,CAACI,OAAO,CAACO,EAAE,EAAE;UACjCJ,UAAU,GAAG,IAAI;UACjB,OAAO;YAAE,GAAGG,IAAI;YAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAAE,CAAC;QACjD,CAAC,MAAM;UACL,OAAOF,IAAI;QACb;MACF,CAAC,CAAC;MACF,IAAIH,UAAU,EAAE;QACd,OAAO;UAAE,GAAGX,KAAK;UAAEJ,SAAS,EAAEgB;QAAY,CAAC;MAC7C,CAAC,MAAM;QACL,OAAO;UAAE,GAAGZ,KAAK;UAAEJ,SAAS,EAAE,CAAC,GAAGI,KAAK,CAACJ,SAAS,EAAE;YAAE,GAAGQ,MAAM,CAACI,OAAO;YAAEQ,QAAQ,EAAE;UAAE,CAAC;QAAE,CAAC;MAC1F;IACF,KAAK,mBAAmB;MACtB,OAAO;QAAE,GAAGhB,KAAK;QAAEJ,SAAS,EAAEI,KAAK,CAACJ,SAAS,CAACqB,MAAM,CAAEH,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKX,MAAM,CAACI,OAAO,CAACO,EAAE;MAAE,CAAC;IACjG,KAAK,qBAAqB;MACxB,MAAMG,gBAAgB,GAAGlB,KAAK,CAACJ,SAAS,CAACiB,GAAG,CAAEC,IAAI,IAAK;QACrD,IAAIA,IAAI,CAACC,EAAE,KAAKX,MAAM,CAACI,OAAO,CAACO,EAAE,EAAE;UACjC,OAAO;YAAE,GAAGD,IAAI;YAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAAE,CAAC;QACjD,CAAC,MAAM;UACL,OAAOF,IAAI;QACb;MACF,CAAC,CAAC,CAACG,MAAM,CAAEH,IAAI,IAAKA,IAAI,CAACE,QAAQ,GAAG,CAAC,CAAC;MACtC,OAAO;QAAE,GAAGhB,KAAK;QAAEJ,SAAS,EAAEsB;MAAiB,CAAC;IAClD,KAAK,qBAAqB;MACxB,MAAMC,kBAAkB,GAAGnB,KAAK,CAACJ,SAAS,CAACiB,GAAG,CAAEC,IAAI,IAAK;QACvD,IAAIA,IAAI,CAACC,EAAE,KAAKX,MAAM,CAACI,OAAO,CAACO,EAAE,EAAE;UACjC,OAAO;YAAE,GAAGD,IAAI;YAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;UAAE,CAAC;QACjD,CAAC,MAAM;UACL,OAAOF,IAAI;QACb;MACF,CAAC,CAAC;MACF,OAAO;QAAE,GAAGd,KAAK;QAAEJ,SAAS,EAAEuB;MAAmB,CAAC;IAE1D;MACA,OAAO;QACH,GAAGnB;MACP,CAAC;EAAA;AAET,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}